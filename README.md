<h1 align="center">
  NieR Replicant‚Ñ¢ - Tradu√ß√£o para PT-BR
</h1>

<p align="center">
  <a href="#" target="blank">
    <img src="./assets/emil.png" width="250" alt="Emil" />
  </a>
</p>

<p align="center">
  Aplica√ß√£o para instalar e criar tradu√ß√µes para o <a href="https://store.steampowered.com/app/1113560/NieR_Replicant_ver122474487139/">NieR Replicant‚Ñ¢ ver.1.22474487139...
  </a><br>
  English version of this README.md <a href="https://github.com/Arekushi/nier-replicant-pt-br-translation/blob/master/README.en.md">here</a>
</p>

<br>

# Sobre o projeto...
Projeto de tradu√ß√£o para PT-BR do fabuloso Nier Replicant ver.1.22474487139, foi utilizado do ChatGPT como suporte para a tradu√ß√£o. O projeto tem como objetivo incluir novas pessoas a essa obra prima dos videojogos, que por conta de ser um RPG onde h√° v√°rias falas, n√£o ter o portugu√™s-brasileiro como uma op√ß√£o de idioma acaba afastando muita gente.

A tradu√ß√£o foi feita em cima dos textos em ingl√™s, com o apoio de alguns textos em espanhol para montar um texto em portugu√™s. Novamente, foi utilizado uma abordagem que utilizava o ChatGPT para traduzir a maioria dos textos, o que foi feito foi a **`revis√£o`** para se ter certeza que o que o ChatGPT retornou estava de acordo (e adivinha, a maioria dos textos estava sim de acordo).

√â um grande inova√ß√£o o ChatGPT, ajudou e muito a traduzir o jogo inteiro em t√£o pouco tempo, algo que utilizando os servi√ßos como Google Tradutor ou Bing n√£o √© poss√≠vel em tempo t√£o h√°bil, visto que as tradu√ß√µes **AT√â HOJE** ainda s√£o de cunho duvidoso e incorreto.

ChatGPT n√£o √© perfeito, mas no n√≠vel atual permitiu construir essa aplica√ß√£o e compartilhar com todos voc√™s.

√â poss√≠vel utilizar esse projeto para traduzir para outras l√≠nguas, √© s√≥ mudar os par√¢metros que o ChatGPT ir√° fazer o trabalho por ti, s√≥ lembre de revisar os textos. üéâ

Esse projeto **n√£o** tem inten√ß√£o nenhuma de substituir outros projetos de tradu√ß√£o que est√£o sendo feitos, acredito que eles fazem um bom trabalho, por√©m manualmente isso leva muito mais tempo (mas por consequ√™ncia tende a ter um maior cuidado).

Se quiser me comprar um ‚òï, chave PIX pra fortalecer: `0dd32e9d-8b78-4978-ad8a-797cbd7380d1`


<br><br>

## Como ajudar na tradu√ß√£o?
Olhe a pasta `texts` e olhe os arquivos da pasta `translation` (onde est√° a tradu√ß√£o)
Fa√ßa sua altera√ß√£o e fa√ßa um **pull request**, seja claro porqu√™ voc√™ decidiu tais altera√ß√µes e com base isso ser√° aprovado ou n√£o.

**Todos os textos** foram revisados por mim, pela [Caroline Urbano][caroline] e [Cristian Kirsch][omainha] com bastante **cuidado**, mas pode existir algo que foi deixado escapar alguma coisa ali ou aqui, s√≥ pe√ßo que se acontecer algo do tipo, informar.

Se quiser conversar mais sobre, podem me chamar em algumas das minhas redes sociais abaixo:
<p align="center">
    <a
        style="all: unset;"
        target="_blank"
        href="">
        <img style="padding: 10px" title="a r e k u s h i#1445" alt="a r e k u s h i#1445" width="40px" src="https://i.imgur.com/WuqAV26.png">
    </a>
    <a
        style="all: unset;"
        target="_blank"
        href="https://steamcommunity.com/id/arekushii">
        <img style="padding: 10px" title="Steam" alt="Steam" width="40px" src="https://i.imgur.com/3qObil8.png">
    </a>
</p>

<br>

## Agradecimentos
Quero agradecer pelas pessoas que se empenharam em fazer do projeto o melhor poss√≠vel para quem √© f√£ de verdade.

<br>

[Caroline Urbano][caroline] que trabalha como tradutora e fez o pontap√© inicial na revis√£o, evolui bastante com o projeto e imagino que ela tamb√©m. Suas redes sociais est√£o aqui abaixo.

<p align="center">
    <a
        style="all: unset;"
        target="_blank"
        href="https://www.linkedin.com/in/caroline-urbano-a4110963/">
        <img style="padding: 10px" title="LinkedIn" alt="LinkedIn" width="40px" src="https://i.imgur.com/4qOCXGz.png">
    </a>
</p>

[Cristian Kirsch][omainha] um rapaz super gente boa, super amante da franquia NieR e que demonstrou um empenho na revis√£o que jamais vi, tudo isso √© fruto do seu esfor√ßo e eu agrade√ßo muito. Suas redes sociais est√£o aqui abaixo.

<p align="center">
    <a
        style="all: unset;"
        target="_blank"
        href="https://twitter.com/omainha">
        <img style="padding: 10px" title="Twitter" alt="Twitter" width="40px" src="https://i.imgur.com/jlKtG7w.png">
    </a>
    <a
        style="all: unset;"
        target="_blank"
        href="https://www.instagram.com/mainhalisa/">
        <img style="padding: 10px" title="Instagram" alt="Instagram" width="40px" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/600px-Instagram_icon.png">
    </a>
    <a
        style="all: unset;"
        target="_blank"
        href="https://www.twitch.tv/omainha">
        <img style="padding: 10px" title="Twitch" alt="Twitch" width="40px" src="https://cdn.iconscout.com/icon/free/png-256/free-twitch-11-461838.png?f=webp">
    </a>
</p>


## Como instalar a tradu√ß√£o?
Aqui irei descrever **duas formas** de instalar a tradu√ß√£o, usando o instalador e outra de maneira manual caso d√™ algum problema na instala√ß√£o.

###  Tutorial usando o instalador
> NieR Replicant‚Ñ¢ ver. 1.22 - Tradu√ß√£o para PT-BR
[![NieR Replicant‚Ñ¢ ver. 1.22 - Tradu√ß√£o para PT-BR](https://i.imgur.com/SYK4rgx.png)](https://www.youtube.com/watch?v=3BiVi_KfGbA)


1. Baixe o execut√°vel da aplica√ß√£o aqui: [Release][release]
   
2. Extraia o arquivo zipado `.zip` para alguma pasta de sua prefer√™ncia.

3. Execute o arquivo `install.bat`

4. O programa ir√° executar e solicitar o caminho at√© o diret√≥rio do NieR Replicant ver.1.22474487139
    > **Exemplo** de caminho
    ```
    C:\SteamLibrary\steamapps\common\NieR Replicant ver.1.22474487139
    ```

5. Prontinho, s√≥ aguardar a finaliza√ß√£o e iniciar o jogo j√° traduzido. üéâ

<br>

### Tutorial sem o instalador
1. Baixe os arquivos necess√°rios aqui: [data][data]

2. Extraia o arquivo zipado `.zip` para alguma pasta de sua prefer√™ncia.

3. Abra o diret√≥rio onde o seu NieR Replicant est√° instalado.
    > **Exemplo** de caminho
    ```
    C:\SteamLibrary\steamapps\common\NieR Replicant ver.1.22474487139
    ```

4. Abra a pasta `data`

5. O arquivo zipado que baixou haver√° dois arquivos dentro - `common.arc` e `info.arc`, jogue os dois dentro da pasta `data`.
    > Obviamente ir√° substituir os arquivos originais, se poss√≠vel, fa√ßa backup deles

6. Prontinho, agora √© s√≥ iniciar o jogo. üéâ

## Lista de comandos uteis
1. Instalar
    ```cmd
    nier-translator.exe manager install
    ```

2. Desinstalar
    ```cmd
    nier-translator.exe manager uninstall
    ```

3. Atualizar a tradu√ß√£o
    ```cmd
    nier-translator.exe manager update
    ```

<br>

# Para desenvolvedores...

## Constru√≠do com
- [Python 3.10.9][python]

<br>

## Ferramentas de apoio
Esse projeto s√≥ foi poss√≠vel gra√ßas a esses dois reposit√≥rios
* Ferramenta para extra√ß√£o dos assets - [kaine][kaine]
* Ferramenta para extra√ß√£o dos textos - [NieR-Text-Tool][ntt]

<br>

## Primeiros passos
Se quiser o projeto para desenvolver, alguns pr√©-requisitos s√£o necess√°rios.

### Pr√©-requisitos (Windows)
* Python
  1. Voc√™ pode baixar aqui: [Python][python_url]
  2. Aqui tem um tutorial passo-a-passo. [(Tutorial)][python_tutorial_url]
     1. Tutorial com Miniconda. [(Tutorial)][miniconda_tutorial]
* Poetry
  1. Voc√™ pode instalar aqui: [Poetry][poetry_url]

<br>

### Vari√°veis do .secrets.toml
Eu guardo algumas vari√°veis sens√≠veis nesse arquivo dentro da pasta `config/toml`, crie esse arquivo l√° **se** for usar o ChatGPT para traduzir, caso contr√°rio apenas ignore.
```toml
[KEYS]
OPENAI_API_KEY = "..." # S√≥ criar uma conta e ir nesse link: https://platform.openai.com/account/api-keys

ORG_ID = "..." # Voc√™ consegue esse ID aqui: https://platform.openai.com/account/org-settings

SESSION_TOKEN = "..." # Necess√°rio apenas se voc√™ n√£o for usar a API do OpenAI
```

### Vari√°vels em arquivos `.toml`
Eu guardo bastante informa√ß√£o em arquivos `.toml` dentro da pasta `toml` que fica dentro da pasta `config`, algumas delas s√£o sobre as mensagens que mando para o ChatGPT para a tradu√ß√£o, se quiser customizar a aplica√ß√£o, recomendo dar uma olhada l√°!

<br>

### Instala√ß√£o e Uso
1. Clone o reposit√≥rio.
    ```sh
    git clone https://github.com/Arekushi/nier-replicant-pt-br-translation.git
    ```

2. Instale os pacotes com o `Poetry`
    ```sh
    poetry install
    ```

3. Execute:
    ```sh
    python main.py --help
    ```

4. Prontinho, voc√™ j√° pode desenvolver üéâ

### Comandos √∫teis
Eu deixei alguns comandos prontos para facilitar a cria√ß√£o de uma tradu√ß√£o, irei listar e descrever alguns aqui:

1. Extrair os textos
    ```cmd
    python main.py builder extract-texts
    ```
    Esse comando inicia o processo de extra√ß√£o dos textos do jogo.

    Antes do in√≠cio ele primeiro verifica se os `assets` do jogo j√° foram extra√≠dos, caso contr√°rio, primeiro ele extrai os `assets` para enfim, extrair os textos para o formato .CSV, que √© mais amig√°vel do que o formato bin√°rio que vem da extra√ß√£o dos assets.

    Os textos estar√£o dentro da pasta `texts/raw`

2. Cria√ß√£o da pasta de tradu√ß√£o
    ```cmd
    python main.py builder make-translation-folder
    ```
    Esse comando trabalha os arquivos `raw` de textos e cria novos arquivos .CSV que cont√©m somente o conte√∫do textual para a tradu√ß√£o.

    Para facilitar e ajudar na tradu√ß√£o, ele cria um .CSV com tr√™s colunas:
    1. Coluna para tradu√ß√£o
    2. Coluna da l√≠ngua fonte para tradu√ß√£o
    3. Coluna da l√≠ngua de suporte para tradu√ß√£o

    Caso queria editar as l√≠nguas fonte e de suporte, v√° at√© o arquivo `settings.toml` e edite as vari√°veis:
    1. `target_language`
    2. `source_language`
    3. `secondary_language`

    Dessa forma, fica f√°cil a consulta dos textos originais e traduzindo logo em seguida.

    Um dica importante, se deseja criar uma nova tradu√ß√£o, recomendo um dois dois casos:
    1. Deletar a pasta `text/translations`
    2. Modificar o nome da pasta `translations` no arquivo `settings.toml` nas vari√°veis:
        1. `paths_to_translate`
        2. `translation_folder_name`

3. Tradu√ß√£o com IA
    ```cmd
    python main.py builder translate
    ```
    Esse comando inicia o processo de tradu√ß√£o da pasta `translation`, ent√£o √© importante executar o comando anterior antes de come√ßar esse.

    H√° dois m√©todos para a tradu√ß√£o: Com **ChatGPT** ou **Google Tradutor**.

    #### Google
    A tradu√ß√£o feita com o Google √© uma tradu√ß√£o r√°pida de ser feita, por√©m, com muita tradu√ß√£o incorreta. Eu ainda mantive esse m√≥dulo, mas n√£o estou mais utilizando ele no projeto.

    De qualquer forma, para traduzir usando o Google Tradutor, adicione uma flag indicando isso no m√©todo que estar√° feito.

    ```cmd
    nier-translator.exe builder translate --google
    ```

    #### ChatGPT
    Se tratando do ChatGPT, √© importante decidir se vais usar um WebCrawler ou a pr√≥pria API do OpenAI.

    ##### WebCrawler

    Caso decida usar um WebCrawler, edite/crie o arquivo `.secrets.toml` dentro da pasta `config/toml` e adicione o `SESSION_TOKEN` que pode ser obtido de um login na p√°gina do ChatGPT.

    > Caso tenha problemas com o WebCrawler envolvendo a vers√£o do Google Chrome, recomendo baixar a vers√£o do ChromeDriver nesse [link][chrome_drive_url].

    > Ap√≥s isso, edite o arquivo `driver.py` da lib `UnlimitedGPT`, l√° teremos um construtor do Driver, edite para que fique algo parecido com isso:
    ```python
        super().__init__(
            options=options,
            headless=headless,
            desired_capabilities=caps,
            driver_executable_path='F:\path_to_driver\chromedriver.exe'
        )
    ```

    ##### API

    Caso decida usar a API, edite/crie o arquivo `.secrets.toml` dentro da pasta `config/toml` e adicione a `OPENAI_API_KEY` e `ORG_ID`. Nesse caso, ser√° necess√°rio usar uma flag para sinalizar ao m√©todo para que use a API ao inv√©s do WebCrawler.
    ```cmd
    python main.py builder translate --api
    ```

    Tamb√©m √© importante se atentar ao arquivo `chat-gpt.toml`, l√° eu defino como ser√° as mensagens enviadas no chat, como por exemplo, definir que eu quero uma tradu√ß√£o do ingl√™s para o portugu√™s-brasileiro.
    
    **N√ÉO** recomendo mexer no que est√° entre diamantes `<>`, caso n√£o saiba o que est√° fazendo.

4. Gera√ß√£o dos arquivos .arc
    ```cmd
    python main.py builder generate
    ```
    Por fim, ap√≥s ter realizado suas altera√ß√µes nos arquivos da pasta `translation`, seja elas com tradu√ß√£o autom√°tica ou manual, chegamos na parte de reverter o processo e gerar os arquivos na qual o jogo l√™, que s√£o os arquivos .ARC.

    Executando esse comando, ele ir√° iniciar o processo e ir√° gerar um resultado dentro da pasta `patch/data`, l√° estar√£o os arquivos com as suas altera√ß√µes j√° realizadas.

    Para aplicar as altera√ß√µes s√≥ utilizar o comando
    ```cmd
    python main.py manager update --local
    ```

    Dessa forma ir√° ser copiado os arquivos da pasta `patch/data` para o local do seu jogo. Caso contr√°rio √© s√≥ realizar o processo manualmente.

<br>

## Contribuidores
| [<div><img width=115 src="https://avatars.githubusercontent.com/u/54884313?v=4"><br><sub>Alexandre Ferreira de Lima</sub></div>][arekushi] <div title="C√≥digo e Tradu√ß√£o">üíª</div> | [<div><img width=115 src="https://avatars.githubusercontent.com/u/129787311?v=4"><br><sub>Caroline Urbano</sub></div>][caroline] <div title="Tradu√ß√£o e Revis√£o">üìö</div> | [<div><img width=115 src="https://avatars.githubusercontent.com/u/131723671?v=4"><br><sub>Cristian Kirsch</sub></div>][omainha] <div title="Tradu√ß√£o e Revis√£o">üìö</div> |
| :---: | :---: | :---: |

<!-- [Build With] -->
[release]: https://github.com/Arekushi/nier-replicant-pt-br-translation/releases/download/2.0.0/nier-translator.zip
[data]: https://github.com/Arekushi/nier-replicant-pt-br-translation/releases/download/2.0.0/data.zip
[python]: https://www.python.org/downloads/

<!-- [Some links] -->
[python_url]: https://www.python.org/downloads/
[python_tutorial_url]: https://www.digitalocean.com/community/tutorials/install-python-windows-10
[miniconda_tutorial]: https://katiekodes.com/setup-python-windows-miniconda/
[poetry_url]: https://python-poetry.org/docs/#installation
[kaine]: https://github.com/yretenai/kaine
[ntt]: https://github.com/lehieugch68/NieR-Text-Tool
[chrome_drive_url]: https://googlechromelabs.github.io/chrome-for-testing/#stable

<!-- [Constributors] -->
[arekushi]: https://github.com/Arekushi
[caroline]: https://github.com/CarolineUrbano
[omainha]: https://github.com/MainhaLisa
